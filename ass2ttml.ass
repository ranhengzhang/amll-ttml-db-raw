[Script Info]
; Script generated by Aegisub 3.2.2
; http://www.aegisub.org/
Title: Default Aegisub file
ScriptType: v4.00+
WrapStyle: 0
ScaledBorderAndShadow: yes
YCbCr Matrix: None

[Aegisub Project Garbage]
Last Style Storage: Default
Active Line: 7

[V4+ Styles]
Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding
Style: orig,阿里巴巴普惠体 3.0 65 Medium,128,&H00D9CA8B,&H00A77F44,&H00FFFFFF,&H00000000,0,0,0,0,100,100,0,0,1,6.5,0,2,10,10,10,1
Style: roma,Raleway-v4020 ExtraBold,52,&H00D9CA8B,&H00A77F44,&H00FFFFFF,&H00000000,0,0,0,0,100,100,0,0,1,5,0,2,10,10,10,0
Style: ts,HarmonyOS Sans SC Medium,94,&H00D9CA8B,&H00A77F44,&H00FFFFFF,&H00000000,0,0,0,0,100,100,0,0,1,6.5,0,8,10,10,10,1
Style: default,Sarasa Gothic SC,64,&H00FFFFFF,&H000000FF,&H00000000,&H00000000,0,0,0,0,100,100,0,0,1,2,2,2,10,10,10,1

[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Comment: 0,0:00:00.00,0:00:00.00,orig,,0,0,0,code once,ttml = ""; Li = 0; body = {start_time=0,end_time=0};
Comment: 0,0:00:00.00,0:00:00.00,orig,,0,0,0,code once,function getL() Li = Li + 1; return Li; end
Comment: 0,0:00:00.00,0:00:00.00,orig,,0,0,0,code line,if line.actor == 'x-bg' then ttml = string.sub(ttml, 0, -5) end; ttml = ttml .. string.format('<%s begin="%02d:%02d.%03d" end="%02d:%02d.%03d" ttm:agent="v1" itunes:key="L%d">', line.actor == 'x-bg' and 'span ttm:role="x-bg"' or 'p', math.floor(line.start_time/60000), math.floor(line.start_time/1000)%60, line.start_time%1000, math.floor(line.end_time/60000), math.floor(line.end_time/1000)%60, line.end_time%1000, getL()); if Li == 0 then body.start_time = line.start_time; end; body.end_time = line.end_time;
Comment: 0,0:00:00.00,0:00:00.00,orig,,0,0,0,code syl,if (syl.duration == 0 and syl.text:match("^[^%s]*$") ~= nil) then syl.end_time = syl.end_time + 1; end; if (syl.i > 0 and syl.text ~= "") then ttml = ttml .. string.format( '<span begin="%02d:%02d.%03d" end="%02d:%02d.%03d">', math.floor((syl.start_time + line.start_time) / 60000), math.floor((syl.start_time + line.start_time) / 1000) % 60, (syl.start_time + line.start_time) % 1000, math.floor((syl.end_time + line.start_time) / 60000), math.floor((syl.end_time + line.start_time) / 1000) % 60, (syl.end_time + line.start_time) % 1000); if line.actor == 'x-bg' and syl.i == 1 then ttml = ttml .. "(" .. syl.text; elseif line.actor == 'x-bg' and syl.i == line.kara.n then ttml = ttml .. syl.text .. ")"; else ttml = ttml .. syl.text; end; ttml = ttml .. '</span>'; if syl.i == line.kara.n then if line.actor == 'x-bg' then ttml = ttml .. '</span>'; end; ttml = ttml .. '</p>'; end; end;
Comment: 0,0:00:00.00,0:00:00.00,roma,,0,0,0,code line,ttml = ttml:sub(0, -5) .. string.format('<span ttm:role="x-roman">%s</span></p>', line.text)
Comment: 0,0:00:00.00,0:00:00.00,ts,,0,0,0,code line,ttml = ttml:sub(0, -5) .. string.format('<span ttm:role="x-translation" xml:lang="zh-CN">%s</span></p>', line.text)
Comment: 0,0:00:00.00,0:00:00.00,default,,0,0,0,template line notext,<tt xmlns="http://www.w3.org/ns/ttml" xmlns:ttm="http://www.w3.org/ns/ttml#metadata" xmlns:amll="http://www.example.com/ns/amll" xmlns:itunes="http://music.apple.com/lyric-ttml-internal">!string.format('<body dur="%02d:%02d.%03d">', math.floor(body.end_time/60000), math.floor(body.end_time/1000)%60, body.end_time%1000)!!string.format('<div begin="%02d:%02d.%03d" end="%02d:%02d.%03d">', math.floor(body.start_time/60000), math.floor(body.start_time/1000)%60, body.start_time%1000, math.floor(body.end_time/60000), math.floor(body.end_time/1000)%60, body.end_time%1000)!!ttml!</div></body></tt>
Comment: 0,0:00:00.00,0:00:00.00,default,,0,0,0,karaoke,粘贴在这一行之前
Dialogue: 0,0:00:00.00,0:00:00.00,default,,0,0,0,fx,<tt xmlns="http://www.w3.org/ns/ttml" xmlns:ttm="http://www.w3.org/ns/ttml#metadata" xmlns:amll="http://www.example.com/ns/amll" xmlns:itunes="http://music.apple.com/lyric-ttml-internal"><body dur="00:00.000"><div begin="00:00.000" end="00:00.000"></div></body></tt>